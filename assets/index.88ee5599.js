import{u as e,r as t,o as a,c as l,a as o,t as s,b as r,m as n,F as u,d as i,e as d,f as c,w as m,g as p,h as g,p as x,i as f,j as b,k as h,l as v,n as w,q as y,T as k,s as L,v as V,x as S,y as I,C as M,z as B}from"./vendor.ed8d022b.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const l=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,s)=>{const r=new URL(e,l);if(self[t].moduleMap[r])return a(self[t].moduleMap[r]);const n=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),u=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(n),onerror(){s(new Error(`Failed to import: ${e}`)),o(u)},onload(){a(self[t].moduleMap[r]),o(u)}});document.head.appendChild(u)})),self[t].moduleMap={}}}("assets/");const C={name:"App",setup(){e().commit("alreadyAuth")}},U={class:"mx-auto"};C.render=function(e,s,r,n,u,i){const d=t("router-view");return a(),l("div",U,[o(d)])};const O={props:{label:{type:String,default:""},modelValue:{type:[String,Number],default:""},error:{type:String,default:""}},emits:["update:modelValue"],setup:(e,{emit:t})=>({uuid:function(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:3&a|8).toString(16)}))}(),updateValue:e=>{t("update:modelValue",e.target.value)}})};O.render=function(e,t,i,d,c,m){return a(),l(u,null,[i.label?(a(),l("label",{key:0,for:d.uuid,class:"block text-gray-700 text-sm font-bold mb-2 ml-3"},s(i.label),9,["for"])):r("",!0),o("input",n(e.$attrs,{value:i.modelValue,onInput:t[1]||(t[1]=(...e)=>d.updateValue&&d.updateValue(...e)),id:d.uuid,"aria-describedby":i.error?`${d.uuid}-error`:null,"aria-invalid":!!i.error||null,class:"bg-gray-200 rounded w-full text-gray-700 focus:outline-none border-b-4 border-gray-300 focus:border-purple-600\n      transition duration-500 px-3 pb-3\n    "}),null,16,["value","id","aria-describedby","aria-invalid"]),i.error?(a(),l("p",{key:1,class:"errorMessage",id:`${d.uuid}-error`,"aria-live":"assertive"},s(i.error),9,["id"])):r("",!0)],64)};var q="./assets/cifrao_g.e7a60860.png";const j={name:"Login",setup(){const t=e(),a=d();c();const l=i({email:"",senha:""}),o=i(!1);return{form:l,falhaLogin:o,login:async()=>{o.value=!1;await t.dispatch("login",{form:l.value})?a.push({name:"Dashboard"}):o.value=!0}}}},E={class:"bg-purple-400 min-h-screen pt-12 md:pt-20 pb-6 px-2 md:px-0",style:{"background-color":"#9921e8","background-image":"linear-gradient(315deg, #9921e8 0%, #5f72be 74%)"}},D=o("header",{class:"fixed bg-black top-0 left-0 w-full p-2 flex items-center"},[o("img",{src:q,alt:"banco",class:"w-10 mr-2"}),o("h1",{class:"text-4xl bont-bold text-white text-center"},"Banco")],-1),_={class:"bg-white max-w-lg mx-auto p-8 md:p-12 mt-20 rounded-lg shadow-2xl"},A=o("h3",{class:"font-bold text-2xl"},"Bem Vindo ao Banco",-1),N=o("p",{class:"text-gray-600 pt-2"},"Faça o login.",-1),R={key:0,class:"text-red-700 text-center font-bold"},$={class:"mt-10"},z={class:"mb-6 pt-3 rounded bg-gray-200"},H={class:"mb-6 pt-3 rounded bg-gray-200"},P=o("div",{class:"flex justify-end"},[o("a",{href:"#",class:"text-sm text-purple-600 hover:text-purple-700 hover:underline mb-6"},"Esqueceu sua senha?")],-1),F=o("button",{class:"bg-purple-600 text-white hover:bg-purple-700 font-bold py-2 rounded shadow-lg hover-shadow-xl transition duration-200",type:"submit"}," Login ",-1),T={class:"max-w-lg mx-auto text-center mt-10 mb-6"},J={class:"text-white"},K=g(" Não tem uma conta? "),G=g("Criar conta"),Q=g(". "),W=o("footer",{class:"max-w-lg mx-auto flex text-white justify-center"},[o("a",{href:"#",class:"hover:underline"},"Contato"),o("span",{class:"mx-3"},"-"),o("a",{href:"#",class:"hover:underline"},"Privacidade")],-1);j.render=function(e,s,n,u,i,d){const c=t("BaseInput"),g=t("router-link");return a(),l("div",E,[D,o("main",_,[o("section",null,[A,N,u.falhaLogin?(a(),l("p",R,"LOGIN FALHOU")):r("",!0)]),o("section",$,[o("form",{onSubmit:s[3]||(s[3]=m(((...e)=>u.login&&u.login(...e)),["prevent"])),class:"flex flex-col",method:"get"},[o("div",z,[o(c,{type:"email",label:"E-Mail",required:"",autocomplete:"email",autofocus:"",modelValue:u.form.email,"onUpdate:modelValue":s[1]||(s[1]=e=>u.form.email=e)},null,8,["modelValue"])]),o("div",H,[o(c,{type:"password",label:"Senha",required:"",autocomplete:"current-password",modelValue:u.form.senha,"onUpdate:modelValue":s[2]||(s[2]=e=>u.form.senha=e)},null,8,["modelValue"])]),P,F],32)])]),o("div",T,[o("p",J,[K,o(g,{to:{name:"Register"},class:"font-bold hover:underline"},{default:p((()=>[G])),_:1}),Q])]),W])};const X={name:"Register",setup:()=>({form:i({nome:"",email:"",senha:"",confirm:""})})},Y={class:"min-h-screen pt-12 md:pt-20 pb-6 px-2 md:px-0",style:{"background-color":"#9921e8","background-image":"linear-gradient(315deg, #9921e8 0%, #5f72be 74%)"}},Z=o("header",{class:"fixed bg-black top-0 left-0 w-full p-2 flex items-center"},[o("img",{src:q,alt:"banco",class:"w-10 mr-2"}),o("h1",{class:"text-4xl bont-bold text-white text-center"},"Banco")],-1),ee={class:"bg-white max-w-lg mx-auto p-8 md:p-12 my-20 rounded-lg shadow-2xl"},te=o("section",null,[o("h3",{class:"font-bold text-2xl"},"Bem vindo ao Banco"),o("p",{class:"text-gray-600 pt-2"},"Crie Sua Conta.")],-1),ae={class:"mt-10"},le={action:"",class:"flex flex-col",method:"post"},oe={class:"mb-6 pt-3 rounded bg-gray-200"},se={class:"mb-6 pt-3 rounded bg-gray-200"},re={class:"mb-6 pt-3 rounded bg-gray-200"},ne={class:"mb-6 pt-3 rounded bg-gray-200"},ue=o("button",{class:"bg-purple-600 text-white hover:bg-purple-700 font-bold py-2 rounded shadow-lg hover-shadow-xl transition duration-200",type:"submit"}," Criar ",-1);X.render=function(e,s,r,n,u,i){const d=t("BaseInput");return a(),l("div",Y,[Z,o("main",ee,[te,o("section",ae,[o("form",le,[o("div",oe,[o(d,{type:"text",label:"Nome",required:"",autofocus:"",modelValue:n.form.nome,"onUpdate:modelValue":s[1]||(s[1]=e=>n.form.nome=e)},null,8,["modelValue"])]),o("div",se,[o(d,{type:"email",label:"E-Mail",required:"",modelValue:n.form.email,"onUpdate:modelValue":s[2]||(s[2]=e=>n.form.email=e)},null,8,["modelValue"])]),o("div",re,[o(d,{type:"password",label:"Senha",required:"",modelValue:n.form.senha,"onUpdate:modelValue":s[3]||(s[3]=e=>n.form.senha=e)},null,8,["modelValue"])]),o("div",ne,[o(d,{type:"password",label:"Confirme a Senha",required:"",modelValue:n.form.confirm,"onUpdate:modelValue":s[4]||(s[4]=e=>n.form.confirm=e)},null,8,["modelValue"])]),ue])])])])};const ie={props:{title:{type:String,required:!0}},emits:["logout"],setup(e,{emit:t}){const a=i([[{icon:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />',text:"Logout",index:0,disabled:!1}]]),l=i(!1),o=i(null),s=i(-1);let r=-1;const n=b((()=>null!=o.value?o.value.getElementsByClassName("menu-item"):[])),u=b((()=>n.value.length));return{dropItems:a,isOpen:l,menuDrop:o,actualIndex:s,items:n,totalItems:u,logout:()=>t("logout"),open:()=>l.value=!0,close:()=>l.value=!1,downPressed:()=>{if(l.value){-1!=r&&(s.value=r,r=-1),s.value++,s.value==u.value&&(s.value=0);for(let e=s.value;e<u.value&&"true"==n.value[e].getAttribute("disabled");e++)s.value++,s.value==u.value&&(s.value=0)}},upPressed:()=>{if(l.value){-1!=r&&(s.value=r,r=-1),s.value--,s.value<0&&(s.value=u.value-1);for(let e=s.value;e>=0&&"true"==n.value[e].getAttribute("disabled");e--)s.value--,s.value<0&&(s.value=u.value-1)}},mouseOver:e=>{r=e,s.value=-1}}}},de=L();x("data-v-6c2e0c8a");const ce={class:"relative"},me=o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),pe={key:0,ref:"menuDrop",class:"origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-lg\n          bg-purple-800 text-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100\n          focus:outline-none\n        "};f();const ge=de(((e,t,n,i,d,c)=>{const p=h("click-outside");return a(),l("div",ce,[v(o("button",{onClick:t[1]||(t[1]=(...e)=>i.open&&i.open(...e)),onKeyup:[t[2]||(t[2]=w(m(((...e)=>i.close&&i.close(...e)),["exact"]),["esc"])),t[3]||(t[3]=w(m(((...e)=>i.downPressed&&i.downPressed(...e)),["exact"]),["down"])),t[4]||(t[4]=w(m(((...e)=>i.upPressed&&i.upPressed(...e)),["exact"]),["up"]))],onKeydown:t[5]||(t[5]=w(m(((...e)=>i.close&&i.close(...e)),["shift","exact"]),["tab"])),class:"inline-flex justify-center w-full rounded-md border\n        border-gray-300 shadow-sm px-4 py-2 bg-purple-800 text-sm font-medium\n        text-white focus:outline-none focus:ring-2\n        focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-black\n      "},[g(s(n.title)+" ",1),me],544),[[p,i.close]]),o(k,{name:"fade"},{default:de((()=>[i.isOpen?(a(),l("div",pe,[(a(!0),l(u,null,y(i.dropItems,((e,o)=>(a(),l("div",{key:o,class:"py-1"},[(a(!0),l(u,null,y(e,(e=>(a(),l("a",{key:e.text,href:"#",onMouseover:t=>i.mouseOver(e.index),onClick:t[6]||(t[6]=m(((...e)=>i.logout&&i.logout(...e)),["prevent"])),class:["group flex items-center px-4 py-2 text-sm menu-item",{"text-white":e.index==i.actualIndex,"bg-purple-900":e.index==i.actualIndex,"text-white":e.index!=i.actualIndex&&!e.disabled,"text-gray-300":e.disabled,"hover:font-extrabold":-1==i.actualIndex&&!e.disabled}],disabled:e.disabled},[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",stroke:"currentColor",class:["mr-3 h-5 w-5",{"text-white":e.index==i.actualIndex,"text-white":e.index!=i.actualIndex&&!e.disabled,"text-gray-300":e.disabled,"group-hover:text-white":-1==i.actualIndex&&!e.disabled}],"aria-hidden":"true",innerHTML:e.icon},null,10,["innerHTML"])),g(" "+s(e.text),1)],42,["onMouseover","disabled"])))),128))])))),128))],512)):r("",!0)])),_:1})])}));ie.render=ge,ie.__scopeId="data-v-6c2e0c8a";const xe={components:{DropDownButton:ie},setup(){const t=e(),a=d(),l=i(t.state.user.nome),o=i(!0);return{userName:l,escondeSidebar:o,showSidebar:()=>{o.value=!1},hideSidebar:()=>{o.value=!0},logout:()=>{t.dispatch("logout"),a.push({name:"Login"})}}}},fe={class:"min-h-full bg-gray-100"},be={class:"h-16 bg-white shadow-sm pl-8 lg:pl-80 pr-8 fixed w-full top-0 left-0 flex items-center justify-between lg:justify-end"},he=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1),ve={class:"flex items-center border-b-2"},we=o("div",{class:"flex items-center bg-black w-full p-4"},[o("img",{src:q,alt:"banco",class:"w-10 mr-4"}),o("h1",{class:"text-4xl bont-bold text-white text-center"},"Banco")],-1),ye=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),ke=o("div",{class:"pt-24 pr-8 pl-8 lg:pl-80"},[o("h1",{class:"text-3xl text-gray-700 font-fold"},"Dashboard")],-1);xe.render=function(e,s,r,n,u,i){const d=t("DropDownButton");return a(),l("div",fe,[o("div",be,[o("div",{onClick:s[1]||(s[1]=(...e)=>n.showSidebar&&n.showSidebar(...e)),class:"w-6 cursor-pointer lg:hidden"},[he]),o(d,{title:n.userName,onLogout:n.logout},null,8,["title","onLogout"])]),o("div",{class:["fixed left-0 top-0 w-72 h-full bg-purple-800 shadow-md z-10 transform lg:-translate-x-0 transition-transform duration-300",{"-translate-x-full":n.escondeSidebar}]},[o("div",ve,[we,o("div",{onClick:s[2]||(s[2]=(...e)=>n.hideSidebar&&n.hideSidebar(...e)),class:"self-stretch cursor-pointer bg-black lg:hidden"},[ye])])],2),ke])};const Le=[{path:"/",name:"Login",component:j},{path:"/register",name:"Register",component:X},{path:"/dashboard",name:"Dashboard",component:xe,meta:{requiresAuth:!0}}],Ve=V({history:S(),routes:Le});Ve.beforeEach(((e,t,a)=>{e.meta.requiresAuth&&!sessionStorage.getItem("user")?a({name:"Login"}):"Login"===e.name&&sessionStorage.getItem("user")?a({name:"Dashboard"}):a()}));var Se=I({state:{user:null},getters:{},actions:{async login({commit:e},{form:t}){try{const a=await M.get(`https://laravel.gq/auth/login?email=${t.email}&senha=${t.senha}`);if(a){const t=await M.post("https://laravel.gq/auth/me",{},{headers:{Authorization:"Bearer "+a.data.access_token}});return!!t.data.email&&(e("setUser",{user:t.data,token:a.data.access_token}),!0)}return!1}catch(a){return!1}},logout({commit:e}){e("logout"),sessionStorage.clear("user")}},mutations:{setUser(e,{user:t,token:a}){e.user=t,e.user.token=a,sessionStorage.setItem("user",JSON.stringify(e.user))},alreadyAuth(e){const t=sessionStorage.getItem("user");t&&(e.user=JSON.parse(t))},logout(e){e.user=null}}});const Ie=B(C);Ie.directive("click-outside",{beforeMount(e,t,a){e.clickOutsideEvent=function(a){e===a.target||e.contains(a.target)||t.value(a,e)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}),Ie.component("BaseInput",O),Ie.use(Ve),Ie.use(Se),Ie.mount("#app");
